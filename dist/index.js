var t={d:(s,e)=>{for(var i in e)t.o(e,i)&&!t.o(s,i)&&Object.defineProperty(s,i,{enumerable:!0,get:e[i]})},o:(t,s)=>Object.prototype.hasOwnProperty.call(t,s)},s={};t.d(s,{A:()=>i});function e(t,s){void 0===t&&(t={}),void 0===s&&(s={});var i=Object.keys(t);i.length&&i.forEach((function(i){var n=i;"object"==typeof t[n]?(void 0===s[n]&&(s[n]={}),e(t[n],s[n])):s[n]=t[n]}))}const i=function(){function t(t,s){void 0===t&&(t=""),void 0===s&&(s={}),this.options={},this.defaultOptions={nav:{arrows:!0,dots:!0},margin:20,stagePadding:30,items:1,swiping:!1,maxSwipingVertAngle:45,theme:"default",breakpoints:{768:{swiping:!0}}},this.userOptions={},this.state={currentItem:0,el:null,stage:null,dots:null,arrows:null,inner:null,swiperWidth:0,itemWidth:0,initialized:!1,items:[],swiping:{startX:null,startY:null}},this.selector="",this.swipingHandlers={},t&&(this.selector=t,this.userOptions=s,this.initSwipingHandlers(),this.init())}return t.prototype.initSwipingHandlers=function(){this.swipingHandlers.mousedown=this.swipeStart.bind(this),this.swipingHandlers.touchstart=this.swipeStart.bind(this),this.swipingHandlers.mousemove=this.swipeDrag.bind(this),this.swipingHandlers.touchmove=this.swipeDrag.bind(this),this.swipingHandlers.mouseout=this.swipeEnd.bind(this),this.swipingHandlers.mouseup=this.swipeEnd.bind(this),this.swipingHandlers.touchend=this.swipeEnd.bind(this),this.swipingHandlers.touchcancel=this.swipeEnd.bind(this)},t.prototype.getBreakPointOptions=function(){if(!this.options.breakpoints)return null;var t=Object.keys(this.options.breakpoints).map((function(t){return+t}));t.sort();for(var s={},i=t.length-1;i>=0;i--)window.innerWidth<t[i]&&e(this.options.breakpoints[t[i]],s);return s},t.prototype.applyOptions=function(){var t;this.options=(void 0===(t=this.defaultOptions)&&(t={}),JSON.parse(JSON.stringify(t))),e(this.userOptions,this.options);var s=this.getBreakPointOptions();s&&e(s,this.options)},t.prototype.attachEvents=function(){var t=this,s=null;window.addEventListener("resize",(function(){s&&clearTimeout(s),s=setTimeout((function(){t.init()}),300)})),this.state.el.addEventListener("click",(function(s){var e=s.target.closest(".s-swiper__dot");e&&(t.state.currentItem=parseInt(e.getAttribute("data-index")),t.translateStage())})),this.state.el.addEventListener("click",(function(s){var e=s.target.closest(".s-swiper__arrow");e&&!e.classList.contains("disabled")&&(e.classList.contains("prev")&&0===t.state.currentItem||e.classList.contains("next")&&t.state.currentItem===t.state.items.length-1||(t.state.currentItem+=e.classList.contains("prev")?-1:1,t.translateStage()))}))},t.prototype.getEvent=function(t){return(null==t?void 0:t.changedTouches)?t.changedTouches[0]:t},t.prototype.isSwipingAngleBig=function(t){var s,e,i,n,a=[{x:this.state.swiping.startX,y:t.clientY},{x:t.clientX,y:t.clientY}],r=[{x:this.state.swiping.startX,y:this.state.swiping.startY},{x:t.clientX,y:t.clientY}];return s=a,e=r,i=Math.sqrt(Math.pow(s[1].x-s[0].x,2)+Math.pow(s[1].y-s[0].y,2)),n=Math.sqrt(Math.pow(e[1].x-e[0].x,2)+Math.pow(e[1].y-e[0].y,2)),180*Math.acos(i/n)/Math.PI>this.options.maxSwipingVertAngle},t.prototype.isSwiping=function(){return null!==this.state.swiping.startX},t.prototype.swipeStart=function(t){var s=this.getEvent(t);void 0!==s.button&&0!==s.button||(this.state.swiping.startX=s.clientX,this.state.swiping.startY=s.clientY)},t.prototype.swipeDrag=function(t){if(this.isSwiping()){var s=this.getEvent(t);if(!this.isSwipingAngleBig(s)){t.preventDefault();var e=s.clientX-this.state.swiping.startX,i=this.calculateTranslate()-e;this.state.stage.style.transform="translateX(".concat(i>0?"-".concat(i):-i,"px)")}}},t.prototype.swipeEnd=function(t){if(this.isSwiping()){var s=this.getEvent(t);if(this.isSwiping()&&!this.isSwipingAngleBig(s)){t.preventDefault();var e=Math.sign(s.clientX-this.state.swiping.startX),i=this.state.currentItem<this.state.items.length-1&&e<0||this.state.currentItem>0&&e>0;this.state.currentItem+=i?-e:0}this.translateStage(),this.resetSwipingState()}},t.prototype.resetSwipingState=function(){this.state.swiping={startX:null,startY:null}},t.prototype.detachSwipingEvents=function(){var t=this;Object.keys(this.swipingHandlers).forEach((function(s){t.state.inner.removeEventListener(s,t.swipingHandlers[s])}))},t.prototype.attachSwipingEvents=function(){var t=this;this.detachSwipingEvents(),this.options.swiping&&Object.keys(this.swipingHandlers).forEach((function(s){t.state.inner.addEventListener(s,t.swipingHandlers[s])}))},t.prototype.calculateTranslate=function(){return(this.state.itemWidth+this.options.margin)*this.state.currentItem},t.prototype.translateStage=function(){this.state.stage.style.transform="translateX(-".concat(this.calculateTranslate(),"px)"),this.options.nav.dots&&this.changeActiveDot(),this.options.nav.arrows&&this.checkArrowAccess()},t.prototype.checkArrowAccess=function(){var t=this.state.el.querySelector(".s-swiper__arrow.prev"),s=this.state.el.querySelector(".s-swiper__arrow.next");t.classList[0===this.state.currentItem?"add":"remove"]("disabled"),s.classList[this.state.currentItem===this.state.items.length-1?"add":"remove"]("disabled")},t.prototype.changeActiveDot=function(){var t=this.state.el.querySelector(".s-swiper__dot.active");if(t){var s=this.state.el.querySelectorAll(".s-swiper__dot");t.classList.remove("active"),s[this.state.currentItem].classList.add("active")}},t.prototype.setStyles=function(){this.state.stage=this.state.el.querySelector(".s-swiper__stage"),this.state.inner.style.marginLeft="".concat(this.options.stagePadding,"px"),this.state.inner.style.marginRight="".concat(this.options.stagePadding,"px");var t=getComputedStyle(this.state.el);this.state.swiperWidth=parseFloat(t.getPropertyValue("width")),this.state.itemWidth=this.state.swiperWidth-2*this.options.stagePadding,this.state.el.style.setProperty("--stage-padding","".concat(this.options.stagePadding,"px"));var s=this.state.el.querySelector(".s-swiper__dots");s&&(this.state.el.style.paddingBottom="".concat(s.scrollHeight,"px"),this.state.el.style.setProperty("--dots-height","".concat(s.scrollHeight,"px")));for(var e=0;e<this.state.items.length;e++)this.state.items[e].style.width="".concat(this.state.itemWidth,"px"),this.state.items[e].style.marginRight="".concat(this.options.margin,"px");this.state.stage.style.width="".concat((this.state.itemWidth+this.options.margin)*this.state.items.length,"px"),this.state.stage.style.transform="translateX(-".concat(this.calculateTranslate(),"px)")},t.prototype.resetStyles=function(){this.state.el.removeAttribute("style"),this.state.stage.removeAttribute("style"),this.state.inner.removeAttribute("style");for(var t=0;t<this.state.items.length;t++)this.state.items[t].removeAttribute("style")},t.prototype.initNavigation=function(){this.options.nav.dots&&!this.state.dots?(this.state.dots=function(t){void 0===t&&(t=0);var s=document.createElement("div");s.classList.add("s-swiper__dots");for(var e=0;e<t;e++){var i=document.createElement("span");i.classList.add("s-swiper__dot"),0===e&&i.classList.add("active"),i.setAttribute("data-index","".concat(e)),s.appendChild(i)}return s}(this.state.items.length),this.state.el.appendChild(this.state.dots)):!this.options.nav.dots&&this.state.dots&&(this.state.dots.remove(),this.state.dots=null),this.options.nav.arrows&&!this.state.arrows?(this.state.arrows=function(){var t=document.createElement("div");t.classList.add("s-swiper__arrows");var s=document.createElement("span");s.classList.add("s-swiper__arrow","prev","disabled"),t.appendChild(s);var e=document.createElement("span");return e.classList.add("s-swiper__arrow","next"),t.appendChild(e),t}(),this.state.el.appendChild(this.state.arrows)):!this.options.nav.arrows&&this.state.arrows&&(this.state.arrows.remove(),this.state.arrows=null)},t.prototype.initState=function(){this.state.el=document.querySelector(this.selector),this.state.el.classList.add("s-swiper",this.options.theme),function(t){var s=document.createElement("div");s.classList.add("s-swiper__inner");var e=document.createElement("div");for(e.classList.add("s-swiper__stage"),s.appendChild(e);t.children.length;){var i=document.createElement("div");i.classList.add("s-swiper__item"),i.appendChild(t.children[0]),e.appendChild(i)}t.appendChild(s)}(this.state.el),this.state.inner=this.state.el.querySelector(".s-swiper__inner"),this.state.items=this.state.el.querySelectorAll(".s-swiper__item")},t.prototype.init=function(){this.applyOptions(),this.state.initialized?this.resetStyles():(this.initState(),this.attachEvents(),this.state.initialized=!0),this.initNavigation(),this.setStyles(),this.attachSwipingEvents()},t}();var n=s.A;export{n as default};