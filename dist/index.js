var __webpack_modules__={"./src/scss/swiper.scss":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://simple-swiper/./src/scss/swiper.scss?")},"./src/ts/helpers/math.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   linesAngle: () => (/* binding */ linesAngle)\n/* harmony export */ });\nvar linesAngle = function (line1, line2) {\n    var dist1 = Math.sqrt(Math.pow(line1[1].x - line1[0].x, 2) + Math.pow(line1[1].y - line1[0].y, 2));\n    var dist2 = Math.sqrt(Math.pow(line2[1].x - line2[0].x, 2) + Math.pow(line2[1].y - line2[0].y, 2));\n    return Math.acos(dist1 / dist2) * 180 / Math.PI;\n};\n\n\n//# sourceURL=webpack://simple-swiper/./src/ts/helpers/math.ts?")},"./src/ts/swiper.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _helpers_math__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./helpers/math */ \"./src/ts/helpers/math.ts\");\n/* harmony import */ var _views_stage__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./views/stage */ \"./src/ts/views/stage.ts\");\n/* harmony import */ var _views_nav__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./views/nav */ \"./src/ts/views/nav.ts\");\n/* harmony import */ var _scss_swiper_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../scss/swiper.scss */ \"./src/scss/swiper.scss\");\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\n\n\n\n\nvar Swiper = /** @class */ (function () {\n    function Swiper(selector, options) {\n        if (selector === void 0) { selector = ''; }\n        if (options === void 0) { options = {}; }\n        this.options = {\n            nav: {\n                arrows: true,\n                dots: true,\n            },\n            margin: 20,\n            stagePadding: 30,\n            swiping: false,\n            maxSwipingVertAngle: 45,\n            theme: 'default',\n            breakpoints: {\n                768: {\n                    swiping: true,\n                }\n            }\n        };\n        this.state = {\n            currentItem: 0,\n            el: null,\n            stage: null,\n            inner: null,\n            swiperWidth: 0,\n            itemWidth: 0,\n            initialized: false,\n            items: [],\n            swiping: {\n                startX: null,\n                startY: null,\n            },\n        };\n        this.selector = '';\n        if (!selector) {\n            return;\n        }\n        this.selector = selector;\n        this.options = __assign(__assign({}, this.options), options);\n        this.init();\n    }\n    Swiper.prototype.attachEvents = function () {\n        var _this = this;\n        var resizeTimeout = null;\n        window.addEventListener('resize', function () {\n            if (resizeTimeout) {\n                clearTimeout(resizeTimeout);\n            }\n            resizeTimeout = setTimeout(function () {\n                _this.init();\n            }, 300);\n        });\n        this.state.el.addEventListener('click', function (event) {\n            var dot = event.target.closest('.s-swiper__dot');\n            if (!dot) {\n                return;\n            }\n            _this.state.currentItem = parseInt(dot.getAttribute('data-index'));\n            _this.translateStage();\n        });\n        this.state.el.addEventListener('click', function (event) {\n            var arrow = event.target.closest('.s-swiper__arrow');\n            if (!arrow) {\n                return;\n            }\n            if (arrow.classList.contains('prev') && _this.state.currentItem === 0) {\n                return;\n            }\n            if (arrow.classList.contains('next') && _this.state.currentItem === _this.state.items.length - 1) {\n                return;\n            }\n            _this.state.currentItem += (arrow.classList.contains('prev') ? -1 : 1);\n            _this.translateStage();\n        });\n    };\n    Swiper.prototype.getEvent = function (e) {\n        return (e === null || e === void 0 ? void 0 : e.changedTouches) ? e.changedTouches[0] : e;\n    };\n    Swiper.prototype.isSwipingAngleBig = function (e) {\n        var cat = [\n            { x: this.state.swiping.startX, y: this.state.swiping.startY },\n            { x: e.clientX, y: this.state.swiping.startY },\n        ];\n        var hyp = [\n            { x: this.state.swiping.startX, y: this.state.swiping.startY },\n            { x: e.clientX, y: e.clientY }\n        ];\n        return (0,_helpers_math__WEBPACK_IMPORTED_MODULE_0__.linesAngle)(cat, hyp) > this.options.maxSwipingVertAngle;\n    };\n    Swiper.prototype.isSwiping = function () {\n        return !!this.state.swiping.startX;\n    };\n    Swiper.prototype.swipeStart = function (event) {\n        // const e = this.getEvent(event);\n        // const target = e.target.closest(this.itemSelector);\n        // if (!target || (e.which && e.which !== 1)) {\n        //     return;\n        // }\n        // event.preventDefault();\n        // this.swipingState.startX = e.clientX;\n        // this.swipingState.startY = e.clientY;\n        // this.stage.classList.add('slider__stage_smooth');\n    };\n    Swiper.prototype.swipeDrag = function (event) {\n        // const e = this.getEvent(event);\n        // const target = e.target.closest(this.itemSelector);\n        // if (!target || this.isSwipingAngleBig(e)) {\n        //     return;\n        // }\n        // event.preventDefault();\n        // target.setAttribute('data-locked', true);\n        // const dx = e.clientX - this.swipingState.startX;\n        // let translateX = this.calculateTranslate() - dx;\n        // translateX = translateX > 0 ? '-' + translateX : -translateX;\n        // this.stage.style.transform = 'translateX(' + translateX + 'px)';\n    };\n    Swiper.prototype.swipeEnd = function (event) {\n        // const e = this.getEvent(event);\n        // const target = e.target.closest(this.itemSelector);\n        // if (!target || this.isSwipingAngleBig(e)) {\n        //     return;\n        // }\n        // event.preventDefault();\n        // this.stage.classList.remove('slider__stage_smooth');\n        // const dx = Math.sign(e.clientX - this.swipingState.startX);\n        // const translateCondition = (this.currentItem < this.itemsCount - 1 && dx < 0) || (this.currentItem > 0 && dx > 0);\n        // this.currentItem += translateCondition ? -dx : 0;\n        // this.translateStage();\n        // this.swipingState = {startX: null, startY: null};\n        // setTimeout(function () {\n        //     target.removeAttribute('data-locked');\n        // }, 500);\n    };\n    Swiper.prototype.attachSwipingEvents = function () {\n        // const context = this;\n        // this.el.addEventListener('mousedown', function (e) { context.swipeStart(e); });\n        // this.el.addEventListener('touchstart', function (e) { context.swipeStart(e); });\n        // this.el.addEventListener('mousemove', function (e) { if (context.isSwiping()) { context.swipeDrag(e); } });\n        // this.el.addEventListener('touchmove', function (e) { if (context.isSwiping()) { context.swipeDrag(e); } });\n        // this.el.addEventListener('mouseout', function (e) { if (context.isSwiping()) { context.swipeEnd(e); } });\n        // this.el.addEventListener('mouseup', function (e) { if (context.isSwiping()) { context.swipeEnd(e); } });\n        // this.el.addEventListener('touchend', function (e) { if (context.isSwiping()) { context.swipeEnd(e); } });\n        // this.el.addEventListener('touchcancel', function (e) { if (context.isSwiping()) { context.swipeEnd(e); } });\n    };\n    Swiper.prototype.calculateTranslate = function () {\n        return (this.state.itemWidth + this.options.margin) * this.state.currentItem;\n    };\n    Swiper.prototype.translateStage = function () {\n        this.state.stage.style.transform = \"translateX(-\".concat(this.calculateTranslate(), \"px)\");\n        this.changeActiveDot();\n    };\n    Swiper.prototype.changeActiveDot = function () {\n        var activeDot = this.state.el.querySelector('.s-swiper__dot.active');\n        var dots = this.state.el.querySelectorAll('.s-swiper__dot');\n        activeDot.classList.remove('active');\n        dots[this.state.currentItem].classList.add('active');\n    };\n    Swiper.prototype.setStyles = function () {\n        this.state.stage = this.state.el.querySelector('.s-swiper__stage');\n        this.state.inner.style.marginLeft = \"\".concat(this.options.stagePadding, \"px\");\n        this.state.inner.style.marginRight = \"\".concat(this.options.stagePadding, \"px\");\n        this.state.el.style.width = \"\".concat(this.state.swiperWidth, \"px\");\n        var dots = this.state.el.querySelector('.s-swiper__dots');\n        if (dots) {\n            this.state.el.style.paddingBottom = \"\".concat(dots.scrollHeight, \"px\");\n            this.state.el.style.setProperty('--dots-height', \"\".concat(dots.scrollHeight, \"px\"));\n        }\n        for (var i = 0; i < this.state.items.length; i++) {\n            this.state.items[i].style.width = \"\".concat(this.state.itemWidth, \"px\");\n            this.state.items[i].style.marginRight = \"\".concat(this.options.margin, \"px\");\n        }\n        this.state.stage.style.width = \"\".concat((this.state.itemWidth + this.options.margin) * this.state.items.length, \"px\");\n        this.state.stage.style.transform = \"translateX(-\".concat(this.calculateTranslate(), \"px)\");\n    };\n    Swiper.prototype.resetStyles = function () {\n        this.state.el.removeAttribute('style');\n        this.state.stage.removeAttribute('style');\n        this.state.inner.removeAttribute('style');\n        for (var i = 0; i < this.state.items.length; i++) {\n            this.state.items[i].removeAttribute('style');\n        }\n    };\n    Swiper.prototype.initNavigation = function () {\n        if (this.options.nav.dots) {\n            (0,_views_nav__WEBPACK_IMPORTED_MODULE_2__.renderDots)(this.state.el, this.state.items.length);\n        }\n        if (this.options.nav.arrows) {\n            (0,_views_nav__WEBPACK_IMPORTED_MODULE_2__.renderArrows)(this.state.el);\n        }\n    };\n    Swiper.prototype.initState = function () {\n        this.state.el = document.querySelector(this.selector);\n        this.state.el.classList.add('s-swiper', this.options.theme);\n        var elStyle = getComputedStyle(this.state.el);\n        this.state.swiperWidth = parseFloat(elStyle.getPropertyValue('width'));\n        this.state.itemWidth = this.state.swiperWidth - this.options.stagePadding * 2;\n        (0,_views_stage__WEBPACK_IMPORTED_MODULE_1__.renderStage)(this.state.el);\n        this.state.inner = this.state.el.querySelector('.s-swiper__inner');\n        this.state.items = this.state.el.querySelectorAll('.s-swiper__item');\n    };\n    Swiper.prototype.init = function () {\n        if (!this.state.initialized) {\n            this.initState();\n            this.initNavigation();\n            this.attachEvents();\n            this.state.initialized = true;\n        }\n        else {\n            this.resetStyles();\n        }\n        this.setStyles();\n    };\n    return Swiper;\n}());\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Swiper);\n;\n\n\n//# sourceURL=webpack://simple-swiper/./src/ts/swiper.ts?")},"./src/ts/views/nav.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderArrows: () => (/* binding */ renderArrows),\n/* harmony export */   renderDots: () => (/* binding */ renderDots)\n/* harmony export */ });\nfunction renderArrows(parent) {\n    var arrowsElement = document.createElement('div');\n    arrowsElement.classList.add('s-swiper__arrows');\n    parent.appendChild(arrowsElement);\n    var prevArrowElement = document.createElement('span');\n    prevArrowElement.classList.add('s-swiper__arrow', 'prev');\n    arrowsElement.appendChild(prevArrowElement);\n    var nextArrowElement = document.createElement('span');\n    nextArrowElement.classList.add('s-swiper__arrow', 'next');\n    arrowsElement.appendChild(nextArrowElement);\n}\nfunction renderDots(parent, itemCount) {\n    if (itemCount === void 0) { itemCount = 0; }\n    var dotsElement = document.createElement('div');\n    dotsElement.classList.add('s-swiper__dots');\n    parent.appendChild(dotsElement);\n    for (var i = 0; i < itemCount; i++) {\n        var dotElement = document.createElement('span');\n        dotElement.classList.add('s-swiper__dot');\n        if (i === 0) {\n            dotElement.classList.add('active');\n        }\n        dotElement.setAttribute('data-index', \"\".concat(i));\n        dotsElement.appendChild(dotElement);\n    }\n}\n\n\n//# sourceURL=webpack://simple-swiper/./src/ts/views/nav.ts?")},"./src/ts/views/stage.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   renderStage: () => (/* binding */ renderStage)\n/* harmony export */ });\nfunction renderStage(parent) {\n    var innerElement = document.createElement('div');\n    innerElement.classList.add('s-swiper__inner');\n    var stageElement = document.createElement('div');\n    stageElement.classList.add('s-swiper__stage');\n    innerElement.appendChild(stageElement);\n    while (parent.children.length) {\n        var itemElement = document.createElement('div');\n        itemElement.classList.add('s-swiper__item');\n        itemElement.appendChild(parent.children[0]);\n        stageElement.appendChild(itemElement);\n    }\n    parent.appendChild(innerElement);\n}\n\n\n//# sourceURL=webpack://simple-swiper/./src/ts/views/stage.ts?")}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var n=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](n,n.exports,__webpack_require__),n.exports}__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__=__webpack_require__("./src/ts/swiper.ts"),__webpack_exports__default=__webpack_exports__.default;export{__webpack_exports__default as default};